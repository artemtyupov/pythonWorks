program Project1;

{$APPTYPE CONSOLE}

uses

  SysUtils;

const

  MaxRow=7; //Максимальное кол-во строк
  MaxColumn=7; //Максимальное кол-во столбцов

var

  A:array[0..MaxRow,0..MaxColumn] of integer; //Матрица
  ArrayPos:array[0..MaxRow*MaxColumn] of integer; //Массив положительных элементов матрицы
  CurMatrixItem:integer; //Текущий элемент матрицы
  CountRow,CountColumn:integer; //Заданное кол-во строк и столбцов
  min:integer; //Минимальный элемент текущей строки
  i,j:integer; //Счетчики
  ChangeItem:integer; //Переменная для обмена значениями
  IndexItem_1,IndexItem_2:integer; //Переменные для сохранения индексов элемента матрицы
  LenArrayPos:integer; //Длина массива из положительных элементов матрицы
begin

//Обнуление
  CurMatrixItem:=0;
  CountRow:=0;
  CountColumn:=0;
  IndexItem_1:=0;
  IndexItem_2:=0;
  i:=0;
  j:=0;
  min:=0;
  ChangeItem:=0;
  LenArrayPos:=0;

//Ввод
  write('Введите кол-во строк: ');
  readln(CountRow);
  write('Введите кол-во столбцов: ');
  readln(CountColumn);
  for i := 0 to CountRow-1 do
    for j := 0 to CountColumn-1 do
    Begin
      write('Введите элемент матрицы: ');
      readln(A[i,j]);
    End;

//Вывод изначально введенной матрицы
  writeln('Изначальная матрица:');
  for i := 0 to CountRow - 1 do
  Begin
    for j := 0 to CountColumn - 1 do
    Begin
      CurMatrixItem:=A[i,j];
      write(CurMatrixItem:3,' ');
    End;
    writeln;
  End;

//Меняем местами минимальный элементы с элементом на главной
  for i := 0 to CountRow-1 do
  Begin
    min:=A[i,0];
    IndexItem_1:=i;
    IndexItem_2:=0;
    for j := 0 to CountColumn-1 do
    Begin
      if A[i,j]<min then
      Begin
        min:=A[i,j];
        IndexItem_1:=i;
        IndexItem_2:=j;
      End;
    End;
  ChangeItem:=A[i,i];
  A[i,i]:=min;
  A[IndexItem_1,IndexItem_2]:=ChangeItem;
  End;
  writeln;

 //Находим положительные элементы матрицы
  for i := 0 to CountRow - 1 do
  Begin
    for j := 0 to CountColumn - 1 do
    Begin
      if A[i,j]>0 then
      Begin
        ArrayPos[LenArrayPos]:=A[i,j];
        LenArrayPos:=LenArrayPos+1;
      End;
    End;
    writeln;
  End;
//Вывод матрицы с измененным положением элементов
  writeln('Матрица с измененным положением элементов:');
  for i := 0 to CountRow - 1 do
  Begin
    for j := 0 to CountColumn - 1 do
    Begin
      CurMatrixItem:=A[i,j];
      write(CurMatrixItem:3,' ');
    End;
    writeln;
  End;

//Вычеркиваем элементы главной диагонали
  for i := 0 to CountRow - 1 do
  Begin
    for j := 1 to CountColumn - 1 do
    Begin
    if j>i then
    Begin
      ChangeItem:=A[i,j-1];
      A[i,j-1]:=A[i,j];
      A[i,j]:=ChangeItem;
    End;
    End;
  End;
  writeln;




//Вывод с вычеркнутыми элементами главной диагонали
  writeln('Матрица с вычеркнутами элементами главной диагонали:');
  for i := 0 to CountRow - 1 do
  Begin
    for j := 0 to CountColumn - 2 do
    Begin
      CurMatrixItem:=A[i,j];
      write(CurMatrixItem:3,' ');
    End;
    writeln;
  End;

//Вывод массива из положительных элементов
  writeln('Массив с положительными элементами матрицы:');
  for i := 0 to LenArrayPos - 1 do
  Begin
    CurMatrixItem:=ArrayPos[i];
    write(CurMatrixItem:3,' ');
  End;

readln;

end.
